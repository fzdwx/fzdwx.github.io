import{_ as a,c as s,o as t,O as e}from"./chunks/framework.31c2e9ef.js";const n="/images/11.png",m=JSON.parse('{"title":"Dwm初体验","description":"","frontmatter":{"title":"Dwm初体验","date":"2022-09-29T15:42:41.000Z","tags":["wm","linux"],"layout":"post","cover":{"image":"/images/20230126191021.png"}},"headers":[],"relativePath":"content/posts/2022-09-29-dwm.md"}'),l={name:"content/posts/2022-09-29-dwm.md"},o=e(`<h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://git.suckless.org/dwm</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dwm</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">make</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clean</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span>
<span class="line"></span></code></pre></div><h2 id="启动" tabindex="-1">启动 <a class="header-anchor" href="#启动" aria-label="Permalink to &quot;启动&quot;">​</a></h2><p>如果已经有了 sddm,可以使用<code>sudo systemctl disable sddm.service</code> 来进行关闭,如果到时候不想用了可以用<code>sudo systemctl enable sddm.service</code>来开启 sddm.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 准备配置文件</span></span>
<span class="line"><span style="color:#FFCB6B;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/X11/xinit/xinitrc</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.xinitrc</span></span>
<span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.xinitrc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 添加</span></span>
<span class="line"><span style="color:#82AAFF;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dwm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 注释</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#twm &amp;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#xclock -geometry 50x50-1+1 &amp;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#xterm -geometry 80x50+494+51 &amp;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#xterm -geometry 80x20+494-0 &amp;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#exec xterm -geometry 80x66+0+0 -name login</span></span>
<span class="line"></span></code></pre></div><p>然后重启并调用<code>startx</code>即可.</p><h2 id="遇到的问题" tabindex="-1">遇到的问题 <a class="header-anchor" href="#遇到的问题" aria-label="Permalink to &quot;遇到的问题&quot;">​</a></h2><h3 id="直接断网" tabindex="-1">直接断网 <a class="header-anchor" href="#直接断网" aria-label="Permalink to &quot;直接断网&quot;">​</a></h3><p>使用 NetworkManager 进行连接,可能要用到<code>dhcpcd</code>.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">nmcli</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">device</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wifi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span></span>
<span class="line"><span style="color:#FFCB6B;">nmcli</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">device</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wifi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">connect</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">wifi name</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">password</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">pwd</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>可能会连接失败,你可以试试<code>nmcli connection show</code> 来查看是否存在以前的连接信息,可以用<code>nmcli connection delete \${wifi name}</code>来删除对应的信息</p><h3 id="输入法失效" tabindex="-1">输入法失效 <a class="header-anchor" href="#输入法失效" aria-label="Permalink to &quot;输入法失效&quot;">​</a></h3><p>添加配置文件</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.pam_environment</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">INPUT_METHOD</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DEFAULT=fcitx5</span></span>
<span class="line"><span style="color:#FFCB6B;">GTK_IM_MODULE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DEFAULT=fcitx5</span></span>
<span class="line"><span style="color:#FFCB6B;">QT_IM_MODULE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DEFAULT=fcitx5</span></span>
<span class="line"><span style="color:#FFCB6B;">XMODIFIERS</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DEFAULT=@im=fcitx5</span></span>
<span class="line"></span></code></pre></div><p>添加启动命令</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.xinitrc1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 在exec dwm之前添加</span></span>
<span class="line"><span style="color:#82AAFF;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fcitx5</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span></span>
<span class="line"></span></code></pre></div><h3 id="扩展屏幕无效" tabindex="-1">扩展屏幕无效 <a class="header-anchor" href="#扩展屏幕无效" aria-label="Permalink to &quot;扩展屏幕无效&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 可以先查看有哪些屏幕</span></span>
<span class="line"><span style="color:#FFCB6B;">xrandr</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 将下面的命令加入 ~/.xinitrc1 中,在exec dwm之前添加</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 我有两个,是上下关系,所以用below 其他有 left 以及 right</span></span>
<span class="line"><span style="color:#FFCB6B;">xrandr</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--output</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eDP-</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">-</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--auto</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--below</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">HDMI-</span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span></code></pre></div><h2 id="常用快捷键" tabindex="-1">常用快捷键 <a class="header-anchor" href="#常用快捷键" aria-label="Permalink to &quot;常用快捷键&quot;">​</a></h2><p>可以参考我配置： <a href="https://github.com/fzdwx/dwm" target="_blank" rel="noreferrer">https://github.com/fzdwx/dwm</a></p><p><code>MOD</code> -&gt; <code>WIN</code></p><table><thead><tr><th>快捷键</th><th>desc</th></tr></thead><tbody><tr><td><code>MOD+SHIFT+ENTER</code></td><td>新开终端</td></tr></tbody></table><h3 id="在本-tag-内切换聚焦窗口" tabindex="-1">在本 tag 内切换聚焦窗口 <a class="header-anchor" href="#在本-tag-内切换聚焦窗口" aria-label="Permalink to &quot;在本 tag 内切换聚焦窗口&quot;">​</a></h3><table><thead><tr><th>快捷键</th><th>desc</th></tr></thead><tbody><tr><td><code>ALT + tab</code></td><td>切换聚焦窗口</td></tr><tr><td><code>MOD + up</code></td><td>切换聚焦窗口</td></tr><tr><td><code>MOD + down</code></td><td>切换聚焦窗口</td></tr></tbody></table><h3 id="跨-tag-操作" tabindex="-1">跨 tag 操作 <a class="header-anchor" href="#跨-tag-操作" aria-label="Permalink to &quot;跨 tag 操作&quot;">​</a></h3><table><thead><tr><th>快捷键</th><th>desc</th></tr></thead><tbody><tr><td><code>MOD + left / right</code></td><td>切换 tag</td></tr><tr><td><code>MOD + SHIGT + left / tight</code></td><td>将当前窗口移动到其他 tag</td></tr><tr><td><code>MOD + a</code></td><td>第一次是显示所有 tag,第二次是跳转到聚焦的窗口所在的窗口</td></tr></tbody></table><h3 id="窗口操作" tabindex="-1">窗口操作 <a class="header-anchor" href="#窗口操作" aria-label="Permalink to &quot;窗口操作&quot;">​</a></h3><table><thead><tr><th>快捷键</th><th>desc</th></tr></thead><tbody><tr><td><code>MOD + q</code></td><td>退出窗口</td></tr><tr><td><code>MOD + h</code></td><td>隐藏窗口</td></tr><tr><td><code>MOD + SHIFT + h</code></td><td>显示窗口（像一个栈一样.）</td></tr><tr><td><code>MOD + ENTER</code></td><td>将当前窗口设置为主窗口</td></tr><tr><td><code>MOD + f</code></td><td>将当前窗口全屏</td></tr><tr><td><code>MOD + CTRL + 方向键</code></td><td>移动窗口</td></tr><tr><td><code>MOD + ALT + 方向键</code></td><td>调整窗口大小</td></tr><tr><td><code>MOD + o</code></td><td>只显示当前窗口/显示所有窗口</td></tr><tr><td><code>MOD + t</code></td><td>开启/关闭 聚焦目标的浮动模式</td></tr><tr><td><code>MOD + SHIFT + t</code></td><td>开启/关闭 全部目标的浮动模式</td></tr></tbody></table><p>| <code>MOD + SHIFT + f</code> | 开启/关闭 状态栏 |</p><h3 id="切换屏幕" tabindex="-1">切换屏幕 <a class="header-anchor" href="#切换屏幕" aria-label="Permalink to &quot;切换屏幕&quot;">​</a></h3><table><thead><tr><th>快捷键</th><th>desc</th></tr></thead><tbody><tr><td><code>MOD + x</code></td><td>将鼠标移动到其他屏幕</td></tr><tr><td><code>MOD + SHIFT + X</code></td><td>将当前窗口移动到其他屏幕</td></tr></tbody></table><h2 id="更新" tabindex="-1">更新 <a class="header-anchor" href="#更新" aria-label="Permalink to &quot;更新&quot;">​</a></h2><h3 id="click-status-bar" tabindex="-1">click status bar <a class="header-anchor" href="#click-status-bar" aria-label="Permalink to &quot;click status bar&quot;">​</a></h3><p>最近跟进了大佬的配置<a href="https://github.com/yaocccc/dwm" target="_blank" rel="noreferrer">yaocccc</a>, 可点击的 status bar.</p><p>主要原理就是根据预定义的格式解析出<code>signal</code> ,然后调用预定义的脚本文件(<a href="https://github.com/fzdwx/dwm/commit/b30b5bedb1661e70acf6830f924857650831b441#diff-62eebf5eaf0e6a76a21dfed9da6556ee5413ddb49f06013bd83403cc1a485d98" target="_blank" rel="noreferrer">commit</a>)</p><p>也很容易扩展,可以参考我的<a href="https://github.com/fzdwx/dwm/blob/main/statusbar/packages/fm.sh" target="_blank" rel="noreferrer">fm</a>, <code>update</code>是构造要返回的内容, <code>click</code>就是点击时调用的方法,<code>wezterm start --class float ranger</code>我这一段就是启动 wezterm 并调用 ranger.</p><p><img src="`+n+'" alt="img.png"></p><h2 id="links" tabindex="-1">Links <a class="header-anchor" href="#links" aria-label="Permalink to &quot;Links&quot;">​</a></h2><ul><li><a href="https://wiki.archlinux.org/title/Dwm_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noreferrer">ArchWiki Dwm</a></li><li><a href="https://dwm.suckless.org/patches/" target="_blank" rel="noreferrer">Dwm patches</a></li><li><a href="https://github.com/Katzeee/dwm-patches-chinese/blob/master/dwm-patches-chinese.md" target="_blank" rel="noreferrer">Dwm patches 中文翻译</a></li><li><a href="https://yaocc.cc/2022/06/19/linux%E4%B8%9D%E6%BB%91%E7%9A%84%E5%8A%A8%E7%94%BB%E4%BD%93%E9%AA%8C%E2%80%94%E2%80%94picom/" target="_blank" rel="noreferrer">picom 美化</a></li></ul>',39),c=[o];function p(r,d,i,h,y,C){return t(),s("div",null,c)}const b=a(l,[["render",p]]);export{m as __pageData,b as default};
